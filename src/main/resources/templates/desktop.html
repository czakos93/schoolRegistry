<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
	<title th:text="#{desktop.title}"></title>
</head>
<body>
<header>
	<nav class="navbar navbar-expand-md navbar-dark bg-dark mb-4">
		<div class="collapse navbar-collapse">
			<ul class="navbar-nav mr-auto">
				<li class="nav-item btn text-light"><a th:href="@{/desktop}" th:text="#{desktop.title}"> </a></li>
				<li class="nav-item btn text-light"><a th:href="@{/class(id=${loggedUser.schoolClass.id})}" th:text="#{desktop.schoolClass}"> </a></li>
			</ul>
			<form class="form-inline mt-2 mt-md-0 " method="POST" th:action="@{/logout}">
				<label class="mr-3 text-light" th:text="${loggedUser.firstname}+' '+${loggedUser.lastname}"></label>
				<input  class="btn btn-primary btn-sm" type="submit" th:value="#{submit.logout}"/>
       			<input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>	
			</form>
		</div>
	</nav>
</header>
<main class="container pt-5" >
	<div class="starter-template">
		<h3 class="" th:text="#{desktop.student} +' '+ ${loggedUser.firstname} + ' ' + ${loggedUser.lastname}"></h3>
		<h5 class="py-1"><a th:text="#{desktop.schoolClass} +' '+ ${loggedUser.schoolClass.name}" th:href="@{/class(id=${loggedUser.schoolClass.id})}"></a></h5>
		<h5 class="py-3" th:text="#{desktop.table.description.grades}"></h5>	
	<table class="table">
		<thead>
		<tr>
			<th th:text="#{desktop.table.description.subject}"></th><th th:text="#{desktop.table.description.grades}"></th><th th:text="#{desktop.table.description.average}">Srednia</th>
		</tr>
		</thead>
		<tbody>			
				<tr th:each="element : ${loggedUser.gradesMap}">
					<td><a th:text="${element.key.name}" th:href="@{/subject(id=${element.key.id})}"></a></td>	
					<td> 
						<div class="d-inline" th:each="grade : ${element.value.grades}">
							<a class="pr-1" th:text="${grade.grade}" th:href="@{/grade(id=${grade.id})}"></a>
						</div>
					</td>
					<td th:text="${#numbers.formatDecimal(element.value.average, 1, 2)}">5</td>
				</tr>
			
		</tbody>
	</table>
	</div>
</main>
</body>
</html>